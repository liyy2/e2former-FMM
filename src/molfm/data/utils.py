# -*- coding: utf-8 -*-
import numpy as np

_DEFAULT_UNIT = 0.0433634  # kcal/mol -> eV
_DEFAULT_STATS = (1, 1)
_DEFAULT_FLAGS = (1, 1, (0, 0, 0))


def _build_config(atom_reference, system_ref, ratios):
    train_ratio, val_ratio, test_ratio = ratios
    has_energy, has_forces, pbc = _DEFAULT_FLAGS
    energy_std, forces_std = _DEFAULT_STATS
    return (
        atom_reference,
        system_ref,
        train_ratio,
        val_ratio,
        test_ratio,
        has_energy,
        has_forces,
        pbc,
        _DEFAULT_UNIT,
        (energy_std, forces_std),
    )


_DATASET_PROFILES = {
    "deshaw_di_mol": _build_config(
        np.array(
            [
                0.00000000e+00,
                -3.76562592e+02,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                -2.38950918e+04,
                -3.43117773e+04,
                -4.71344609e+04,
                -6.25961328e+04,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                -1.81588500e+05,
                -2.14254891e+05,
                -2.49777750e+05,
                -2.88669344e+05,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                -1.30339375e+06,
                -1.40277175e+06,
                0.00000000e+00,
                -1.61513262e+06,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                -1.34498875e+05,
                0.00000000e+00,
                -1.68191625e+05,
                -1.86824922e+05,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                -1.20958859e+05,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
                0.00000000e+00,
            ]
        ),
        0.0,
        (0.7, 0.2, 0.1),
    ),
    "md": _build_config(
        np.array(
            [
                0.0000e+00,
                -3.7606e+02,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                -2.3882e+04,
                -3.4354e+04,
                -4.7167e+04,
                0.0000e+00,
                0.0000e+00,
                -1.0186e+05,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                -2.4973e+05,
                -2.8799e+05,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                0.0000e+00,
                -1.1164e+06,
                0.0000e+00,
                0.0000e+00,
            ]
        ),
        0.0,
        (0.7, 0.1, 0.2),
    ),
}


def dataset_profile(data_name):
    # train ratio , val ratio,test ratio can be int or float.
    key = data_name.lower()
    if key in _DATASET_PROFILES:
        return _DATASET_PROFILES[key]
    return _build_config(np.array([]), 0.0, (None, None, None))
